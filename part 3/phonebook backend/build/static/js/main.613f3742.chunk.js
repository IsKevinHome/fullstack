(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),r=n(3),o=n(2),u=n(0),i=function(e){var t=e.person;e.deletePerson;return Object(u.jsxs)("li",{children:[t.name," ",t.number]})},s=function(e){var t=e.addContact,n=e.newName,c=e.newNumber,a=e.handleContactNameChange,r=e.handleContactNumberChange;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Add a new"}),Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:n,onChange:a})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:c,onChange:r})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})]})},j=function(e){var t=e.filterBy,n=e.handleFiltering;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Filter:"}),Object(u.jsx)("input",{value:t,onChange:n})]})},d=function(e){var t=e.renderContacts;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Contacts"}),Object(u.jsx)("ul",{children:t})]})},l=n(4),b=n.n(l),h="/api/persons",O={getAll:function(){return b.a.get(h)},create:function(e){return b.a.post(h,e)},update:function(e,t){return b.a.put("".concat(h,"/").concat(e),t)},remove:function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))}},f=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),l=Object(r.a)(a,2),b=l[0],h=l[1],f=Object(o.useState)(""),p=Object(r.a)(f,2),m=p[0],v=p[1],x=Object(o.useState)(!0),g=Object(r.a)(x,2),C=g[0],N=g[1],w=Object(o.useState)(""),k=Object(r.a)(w,2),S=k[0],y=k[1];Object(o.useEffect)((function(){O.getAll().then((function(e){c(e.data)}))}),[]),console.log("render",n.length,"contacts");return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Phonebook"}),Object(u.jsx)(j,{filterBy:S,handleFiltering:function(e){y(e.target.value),N(!1)}}),Object(u.jsx)(s,{addContact:function(e){if(e.preventDefault(),""===b)return!0;if(""===m)return!0;var t=!1;if(n.forEach((function(e){e.name===b&&(t=!0)})),t)alert("".concat(b," is already added to phonebook"));else{var a={name:b,number:m};O.create(a).then((function(e){c(n.concat(e.data)),h(""),v("")}))}},newName:b,newNumber:m,handleContactNameChange:function(e){h(e.target.value)},handleContactNumberChange:function(e){v(e.target.value)}}),Object(u.jsx)(d,{renderContacts:(C?n:n.filter((function(e){var t=e.name.toUpperCase(),n=S.toUpperCase();return-1!==t.search(n)}))).map((function(e){return console.log(e),Object(u.jsx)(i,{person:e},e.name)}))})]})};n(40);a.a.render(Object(u.jsx)(f,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.613f3742.chunk.js.map